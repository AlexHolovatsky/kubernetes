<!DOCTYPE html>
<html>
<head>
    <title>SHOP</title>
    <link rel="stylesheet" th:href="@{/css/goods-add.css}"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
</head>
<body>


<div class="bg-img">
    <div class="content">
        <h1>Add good</h1>
        <form th:action="@{/shop/goods/create}" method="post" enctype="multipart/form-data">
            <div class="field">
                <span class="fa fa-user"></span>
                <input type="text" required placeholder="Title" name="title">
            </div>
            <div class="field space">
                <span class="fa fa-lock"></span>
                <input type="text" class="pass-key" required placeholder="Description" name="description">
                <span class="show">SHOW</span>
            </div>
            <div class="field space">
                <span class="fa fa-lock"></span>
                <input type="text" class="pass-key" required placeholder="Price" name="price">
                <span class="show">SHOW</span>
            </div>
            <div id="fileInputs">
                <input type="file" name="files" id="fileInput" accept="image/*" />
                <label for="fileInput"></label>
            </div>

            <button type="button" onclick="addFileInput()">Додати фотографію</button>
            <button type="button" onclick="removeFileInput()">Видалити фотографію</button>
            <div class="field">
                <input type="submit" value="ADD">
                <input type="button" value="BACK" onclick="goBack()">
            </div>
        </form>
        <script>
            function addFileInput() {
                var fileInputs = document.getElementById('fileInputs');
                var inputCount = fileInputs.getElementsByTagName('input').length;

                if (inputCount < 9) {
                    var newInput = document.createElement('input');
                    newInput.type = 'file';
                    newInput.name = 'files';
                    newInput.accept = 'image/*';
                    fileInputs.appendChild(newInput);
                } else {
                    alert('Максимальна кількість фотографій досягнута');
                }
            }
            function removeFileInput() {
                var fileInputs = document.getElementById('fileInputs');
                var inputCount = fileInputs.getElementsByTagName('input').length;

                if (inputCount > 1) {
                    var lastInput = fileInputs.lastElementChild;
                    fileInputs.removeChild(lastInput);
                } else {
                    alert('Не можна видалити останнє поле');
                }
            }
            function goBack() {
                window.history.back();
            }
        </script>
    </div>
</div>
</div>
</body>
</html>